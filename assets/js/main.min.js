document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".header"),t=document.querySelector(".header-menu-toggle"),o=document.querySelector(".header-menu"),n=document.querySelectorAll(".header-menu__item--submenu");function c(){o.classList.contains("header-menu--active")&&(o.style.height=`${o.scrollHeight}px`)}e&&t&&o&&window.matchMedia("(max-width: 1199.98px)").matches&&(t.addEventListener("click",(function(){if(this.classList.toggle("header-menu-toggle--active"),e.classList.toggle("header--active"),o.classList.contains("header-menu--active"))o.style.height=`${o.scrollHeight}px`,requestAnimationFrame((()=>{o.style.height="0px",o.classList.remove("header-menu--active")}));else{o.classList.add("header-menu--active");const e=o.scrollHeight;o.style.height="0px",requestAnimationFrame((()=>{o.style.height=`${e}px`}))}})),n.forEach((e=>{e.addEventListener("click",(function(t){if(window.innerWidth<1200){t.preventDefault();const o=e.querySelector(".header-menu__submenu");if(!o)return;e.classList.toggle("active"),function(e){if(e.classList.contains("active"))e.style.height=`${e.scrollHeight}px`,requestAnimationFrame((()=>{e.style.height="0px",e.classList.remove("active")}));else{e.classList.add("active");const t=e.scrollHeight;e.style.height="0px",requestAnimationFrame((()=>{e.style.height=`${t}px`}))}}(o),setTimeout(c,250)}}))})));if(window.matchMedia("(hover: hover)").matches){document.querySelectorAll(".about-info__head").forEach((e=>{e.addEventListener("mouseenter",(()=>{const t=e.closest(".about-info__item");t&&t.classList.add("about-info__item--hovered")})),e.addEventListener("mouseleave",(()=>{const t=e.closest(".about-info__item");t&&t.classList.remove("about-info__item--hovered")}))}))}const i=document.querySelectorAll(".tabs__btn"),s=document.querySelectorAll(".tabs__content");if(i&&s){const L="passport";function a(e){s.forEach((t=>{t.dataset.tab===e?t.classList.add("active"):t.classList.remove("active")})),i.forEach((t=>{t.dataset.tab===e?t.classList.add("active"):t.classList.remove("active")}))}i.forEach((e=>{e.addEventListener("click",(()=>{a(e.dataset.tab)}))})),a(L)}function l(){document.querySelectorAll(".job-accordeon").forEach((e=>{e.querySelectorAll(".job-accordeon__item").forEach(((e,t)=>{const o=e.querySelector(".job-accordeon__btn"),n=e.querySelector(".job-accordeon__content");0===t?(e.classList.add("open"),n.style.maxHeight=n.scrollHeight+"px"):n.style.maxHeight=0,o.addEventListener("click",(()=>{e.classList.contains("open")?(e.classList.remove("open"),n.style.maxHeight=0):(e.classList.add("open"),n.style.maxHeight=n.scrollHeight+"px")}))}))}))}l();document.querySelectorAll(".catalog-card").forEach((e=>{const t=e.querySelector(".catalog-card__content"),o=e.querySelector(".catalog-card__cta");if(t&&o){const e=()=>{const e=t.getBoundingClientRect().height;o.style.bottom=`${e}px`};e();new ResizeObserver(e).observe(t)}}));new Swiper(".page-job__slider",{slidesPerView:1.3,spaceBetween:8,breakpoints:{576:{slidesPerView:2},768:{slidesPerView:3},1200:{slidesPerView:4,spaceBetween:24}},loop:!1,navigation:{nextEl:".page-job__nav--next",prevEl:".page-job__nav--prev"},a11y:{prevSlideMessage:"Предыдущая вакансия",nextSlideMessage:"Следующая вакансия"},speed:1400,autoHeight:!1});let r=null;const d=GLightbox({elements:[{content:document.getElementById("contact-form")}],width:"600px",height:"auto"});document.querySelectorAll('[data-form="true"]').forEach((e=>{e.addEventListener("click",(function(){r=e,d.open()}))})),d.on("open",(()=>{setTimeout((()=>{const e=document.querySelector("#contact-form .wpcf7 form");if(!e||!r)return;const t=document.title,o=r.getAttribute("data-title")||"",n=r.getAttribute("data-info")||"",c=e.querySelector('input[name="page_title"]'),i=e.querySelector('input[name="product_info"]');c&&(c.value=t),i&&(i.value=o&&n?`${o} – ${n}`:o||n||"Не указано")}),100)}));let u=document.querySelectorAll('[data-resume="true"]');for(let b=0;b<u.length;b++)u[b].addEventListener("click",(function(){m.open()}));GLightbox({touchNavigation:!0,loop:!1,autoplayVideos:!1,height:"auto"});const h=GLightbox({selector:".glightbox-job",touchNavigation:!0,loop:!1,height:"auto"});h.on("slide_after_load",(e=>{const{slideNode:t}=e;l();const o=t.querySelector('[data-job-form="true"]');o&&o.addEventListener("click",(function(e){e.preventDefault(),h.close(),setTimeout((()=>{m.open()}),800)}))}));const m=GLightbox({elements:[{content:document.getElementById("job-form")}],width:"870",loop:!1,height:"auto"}),g=document.getElementById("file1"),f=document.querySelector(".resume-upload-text");g&&f&&g.addEventListener("change",(function(){if(g.files.length>0){const e=g.files[0].name;f.textContent=`Файл "${e}" прикреплён`}else f.textContent="Добавьте ваше резюме"}));const p=document.querySelector(".page-catalog__filters-btn"),v=document.querySelector(".page-catalog__filters-form");if(p&&v){const x=p.querySelector(".page-catalog__filters-btn-text");let q=!1;p.addEventListener("click",(()=>{if(q)v.style.height=v.scrollHeight+"px",requestAnimationFrame((()=>{v.style.height="0"})),v.classList.remove("open"),p.classList.remove("active"),x.textContent="Показать фильтры";else{const e=v.scrollHeight+"px";v.style.height=e,v.classList.add("open"),p.classList.add("active"),x.textContent="Скрыть фильтры"}q=!q})),v.addEventListener("transitionend",(()=>{q&&(v.style.height="auto")}))}const y=document.getElementById("cookie-notification"),_=document.getElementById("cookie-accept");(function(e){const t=e+"=",o=decodeURIComponent(document.cookie).split(";");for(let e=0;e<o.length;e++){let n=o[e];for(;" "===n.charAt(0);)n=n.substring(1);if(0===n.indexOf(t))return n.substring(t.length,n.length)}return""})("cookieAccepted")||(y.style.display="block"),_.addEventListener("click",(function(){!function(e,t,o){const n=new Date;n.setTime(n.getTime()+24*o*60*60*1e3);const c="expires="+n.toUTCString();document.cookie=e+"="+t+";"+c+";path=/"}("cookieAccepted","true",365),y.style.display="none"}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".about-info__item");e.forEach((t=>{const o=t.querySelector(".about-info__head"),n=t.querySelector(".about-info__content");t.classList.contains("about-info__item--active")&&(n.style.maxHeight=n.scrollHeight+"px"),o.addEventListener("click",(function(){const o=t.classList.contains("about-info__item--active");if(e.forEach((e=>{const t=e.querySelector(".about-info__content");e.classList.remove("about-info__item--active"),t.style.maxHeight="0px"})),!o){t.classList.add("about-info__item--active");const e=n.scrollHeight;n.style.maxHeight=e+"px"}}))}))}));